top [-] [d delay] [n iterations] [c] [s] [S] [i] 
[功能]
top命令是Linux下常用的性能分析工具，能够实时显示系统中各个进程的资源占用状况，类似于Windows的任务管理器。

[描述]
命令中空白和'-'是可以省略的。top命令和ps命令的基本作用是相同的，显示系统当前的进程和其他状况；但是top是一个动态显示过程，即可以通过用户按键来不断刷新当前状态。如前台执行该命令，它将独占前台，直到用户终止该程序为止。比较准确的说，top命令提供了实时的对系统处理器的状态监视。它将显示系统中CPU最“敏感” 的任务列表。该命令可以按CPU使用。内存使用和执行时间对任务进行排序；而且该命令的很多特性都可以通过交互式命令或者在个人定制文件中进行设定。在后面的介绍中将把命令参数和交互命令分开讲述。 

常用选项的含义如下：
d 指定每两次屏幕信息刷新之间的时间间隔。当然用户可以使用s交互命令来改变之。
n 指定迭代次数，也就是top刷新的次数，到达这个次数之后top就自动停止。
S 指定累计模式,列出所有进程和它已结束的子进程使用的cpu；交互命令S可以有更详细的信息。
s 使top命令在安全模式中运行。这将去除交互命令所带来的潜在危险，可更好地用系统配置文件来控制。
i 使top不显示任何闲置或者僵死进程。
c 显示整个命令行而不只是显示命令名
更多的选项参见man手册。

[举例]
*查看当前系统状况：
$top
输入之后，输出类似如下：
top - 13:38:22 up  5:15,  7 users,  load average: 0.97, 1.13, 1.15
Tasks: 158 total,   2 running, 155 sleeping,   0 stopped,   1 zombie
Cpu(s): 56.0%us,  1.3%sy,  0.0%ni, 41.3%id,  1.3%wa,  0.0%hi,  0.0%si,  0.0%st
Mem:    505864k total,   497528k used,     8336k free,     7912k buffers
Swap:   995988k total,   299108k used,   696880k free,    96432k cached

PID      USER    PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
5992 quiethea    20   0  403m 101m  19m R  108 20.5 364:32.24 firefox
5339 root        20   0  482m  89m 6688 S    6 18.2   9:27.88 Xorg
12162 quiethea   20   0  2412 1092  800 R    4  0.2   0:00.02 top
1 root           20   0  3056  556  496 S    0  0.1   0:01.34 init
2 root           15  -5     0    0    0 S    0  0.0   0:00.00 kthreadd
......更多的内容省略......
这样，运行之后top会持续的刷新，并且期间可以接收交互命令。启动top很简单，其他的选项可以查看前面的描述，关键要明白输出内容的含义，这里对输出的详细解释如下：
1)统计信息区
前五行是系统整体的统计信息。
第一行是任务队列信息，同 uptime 命令的执行结果。其内容如下：
13:38:22 当前时间
up 5:15 系统运行时间，格式为时:分
7 user 当前登录用户数
load average: 0.97, 0.13, 1.15 系统负载，即任务队列的平均长度。
		三个数值分别为 1分钟、5分钟、15分钟前到现在的平均值。
第二、三行为进程和CPU的信息。当有多个CPU时，这些内容可能会超过两行。
内容如下：
Tasks: 158 total 进程总数
2 running 正在运行的进程数
155 sleeping 睡眠的进程数
0 stopped 停止的进程数
1 zombie 僵尸进程数
Cpu(s): 56.0% us 用户空间占用CPU百分比
1.3% sy 内核空间占用CPU百分比
0.0% ni 用户进程空间内改变过优先级的进程占用CPU百分比
41.3% id 空闲CPU百分比
1.3% wa 等待输入输出的CPU时间百分比
0.0% hi
0.0% si
0.0% st
最后两行为内存信息。
内容如下：
Mem: 505864k total 物理内存总量
497528k used 使用的物理内存总量
8336k free 空闲内存总量
7912k buffers 用作内核缓存的内存量
Swap: 995988k total 交换区总量
299108k used 使用的交换区总量
696880k free 空闲交换区总量
96432k cached 缓冲的交换区总量。
内存中的内容被换出到交换区，而后又被换入到内存，但使用过的交换区尚未被覆盖，
该数值即为这些内容已存在于内存中的交换区的大小。
相应的内存再次被换出时可不必再对交换区写入。

2)进程信息区
统计信息区域的下方显示了各个进程的详细信息。首先来认识一下常用列的含义。

序号 列名 含义
a PID 进程id
b PPID 父进程id
c RUSER Real user name
d UID 进程所有者的用户id
e USER 进程所有者的用户名
f GROUP 进程所有者的组名
g TTY 启动进程的终端名。不是从终端启动的进程则显示为 ?
h PR 优先级
i NI nice值。负值表示高优先级，正值表示低优先级
j P 最后使用的CPU，仅在多CPU环境下有意义
k %CPU 上次更新到现在的CPU时间占用百分比
l TIME 进程使用的CPU时间总计，单位秒
m TIME+ 进程使用的CPU时间总计，单位1/100秒
n %MEM 进程使用的物理内存百分比
o VIRT 进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES
p SWAP 进程使用的虚拟内存中，被换出的大小，单位kb。
q RES 进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA
r CODE 可执行代码占用的物理内存大小，单位kb
s DATA 可执行代码以外的部分(数据段+栈)占用的物理内存大小，单位kb
t SHR 共享内存大小，单位kb
u nFLT 页面错误次数
v nDRT 最后一次写入到现在，被修改过的页面数。
w S 进程状态。
D=不可中断的睡眠状态
R=运行
S=睡眠
T=跟踪/停止
Z=僵尸进程
x COMMAND 命令名/命令行
y WCHAN 若该进程在睡眠，则显示睡眠中的系统函数名
z Flags 任务标志，参考 sched.h
默认情况下仅显示比较重要的 PID、USER、PR、NI、VIRT、RES、SHR、S、%CPU、%MEM、TIME+、COMMAND 列。可以通过下面的快捷键来更改显示内容。
------

**启动top命令之后的交互
这里的内容讲述的是在启动top命令之后，如何和top程序进行交互

*显示交互命令帮助信息：
输入"h".
或输入"?".
这样将会显示当前可以和top程序交互的命令的简短信息。

*隐藏／显示指定的列：
步骤如下：
1)按"f"键。
这样top会显示出一个列表，列表每项表示top命令输出的某一列，每项前面的字母用于和该项交互。当前top输出中将要显示的列，其对应的项前面用一个"*"来标记。
2)按相应项前面的字母按键。
这里，以"A"为例子，A（或a）表示对PID列的控制，按下A（或a）将会在当前top输出中显示/隐藏PID相关的信息。
3)按其他任意键返回top输出。
这里其他任意键就是指不是控制每列显示／隐藏切换的键。这样会返回到刚才的top输出并且显示的方式由你刚刚指定的方式来显示了。

*更改显示列的显示次序：
步骤如下：
1)按"o"键。
这样会显示一个列表，前有"*"的项表已显示的列。列表次序对应top输出列从左到右的显示次序。每项前面的字母（除去"*"）是对应于top输出的列标识。
2)输入列标识字母更改列显示次序。
这里按小写的 a-z 可以将相应的列向右移动，而大写的 A-Z 可以将相应的列向左移动。例如"A"表示PID,那么输入"a"会将该项下移（对应于相应列右移），输入"A"会将该项上移.
3)按回车键确定。
这样会返回到top输出，列的次序会按照你刚才设定的来显示。

*更改行的排序方式：
步骤如下：
1)输入"F".
或输入"O".
这样top会显示出一个列表，列表每项表示top命令输出的某一列，每项前面的字母用于和该项交互。当前top输出以哪列进行排序，那么对应项前面就用一个"*"来标记。
2)输入列标识，更改行按照相应列进行排序。
这里，默认以CPU占用排序，假设PID列标识为A,如果输入a那么将会以PID来排序top显示的输出。
3)输入其他按键确认。
这里其他任意键就是指不是控制每列的键。这样会返回到刚才的top输出并且显示的方式由你刚刚指定的方式来显示了。

*将当前每行按照相应列的方式逆序显示：
输入"R".
这样，当前的top输出显示会以相应列的设置逆序来进行显示。

*切换以彩色／非彩色方式显示：
输入"z".
这样，会在彩色／非彩色方式显示之间来切换。

*切换加粗／非加粗方式显示：
输入"b".
这样，会在加粗／非加粗方式之间来切换。注意这里加粗/非加粗是指和x,y命令的高亮相互配合的。

*切换高亮／非高亮当前的排序列：
输入"x".
这样，会切换的“高亮／非高亮”当前的排序列。

*切换高亮／非高亮当前的运行任务：
输入"y".
这样，会切换“高亮／非高亮”当前运行状态的任务。

*退出top命令：
输入"q".
这样，就退出top命令了。
**
